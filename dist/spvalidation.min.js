/*!
 * @author Szymon DziaÅ‚owski
 * @homepage https://github.com/stopsopa/validator
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.spvalidation=e():t.spvalidation=e()}(window,function(){return function(t){var e={};function o(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=10)}([function(t,e,o){"use strict";o(2);function s(){if(!(this instanceof s))throw"It is necessary to use operotr 'new' with all constraints"}const i="_ERROR".length;s.prototype.errorNames=function(){return s.prototype._errorNames||(s.prototype._errorNames=Object.keys(this.constructor.prototype).reduce((t,e)=>{return"string"==typeof this.constructor.prototype[e]&&e===e.toUpperCase()&&"_ERROR"===e.substring(e.length-i)&&(t[e]=e),t},{})),s.prototype._errorNames},s.prototype.getOptions=function(){return this.opt},s.prototype.setOptions=function(t){return this.opt=t,this},s.prototype.setExtra=function(t){return this.extra=t,this},s.prototype.getExtra=function(){return this.extra},s.prototype.validate=!1,s.prototype.validateChildren=!1,t.exports=s},function(t,e,o){"use strict";t.exports=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,o){"use strict";t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,o){"use strict";const s=o(0),i=function(){s.apply(this,arguments)};(i.prototype=Object.create(s.prototype)).constructor=i,t.exports=i},function(t,e,o){"use strict";const s=o(3),i=o(0),r=o(5),n=o(1),a=o(6),p=function(t,e,o,l,c=!1){if(e instanceof s)return p(t,e.getOptions(),o,l,c);if(e instanceof i&&(n(e)||(e=[e])),!n(e))return c?o.getTriggers():void 0;for(let i=0,n=e.length;i<n;i+=1)if(e[i]instanceof s)p(t,e[i].getOptions(),o,l);else if(e[i]instanceof r){const s=l?t=>l+"."+t:t=>t,r=e[i].getOptions();a(t,(t,e)=>{p(t,r,o,s(e))})}else e[i].validate&&function(s){o.addTrigger(s?s.async:0,()=>e[i].validate(t,o,l,s))}(e[i].getExtra()),e[i].validateChildren&&function(s){e[i].validateChildren(t,o,l,s)}(e[i].getExtra());return c?o.getTriggers():void 0};t.exports=p},function(t,e,o){"use strict";const s=o(0),i=function(t,e){s.apply(this,arguments),this.setExtra(e),this.setOptions(t)};(i.prototype=Object.create(s.prototype)).constructor=i,t.exports=i},function(t,e,o){"use strict";const s=o(1),i=o(2);t.exports=function(t,e,o){if(s(t)){for(var r=0,n=t.length;r<n;++r)if(!1===e.call(o,t[r],r))return}else if(i(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e.call(o,t[r],r))return}},function(t,e,o){"use strict";const s=o(3),i=o(0),r=function(t,e){i.apply(this,arguments),this.setExtra(e),this.setOptions(t)};(r.prototype=Object.create(s.prototype)).constructor=r,t.exports=r},function(t,e,o){"use strict";const s=o(3),i=o(0),r=function(t,e){i.apply(this,arguments),this.setExtra(e),this.setOptions(t)};(r.prototype=Object.create(s.prototype)).constructor=r,t.exports=r},function(t,e,o){"use strict";const s=o(2),i=o(1),r=o(0),n={message:"This value should be blank."},a=function(t,e){r.apply(this,arguments),this.setExtra(e),"string"==typeof t&&(t={message:t}),this.setOptions(Object.assign({},n,t))};(a.prototype=Object.create(r.prototype)).constructor=a,a.prototype.NOT_BLANK_ERROR="NOT_BLANK_ERROR",a.prototype.validate=function(t,e,o,s){const i=this.getOptions();return!a.prototype.logic(t)&&(e.buildViolation(i.message).atPath(o).setCode(a.prototype.NOT_BLANK_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop Blank"):Promise.resolve("resolve Blank")},a.prototype.logic=function(t){let e=!0;switch(!0){case!t:case"0"===t:case i(t)&&0===t.length:case s(t)&&0===Object.keys(t).length:e=!1}return!e},t.exports=a},function(t,e,o){"use strict";const s=o(11),i=o(4),r=(t,e,o)=>{const r=new s(t,o),n=i(t,e,r,o?o.path:void 0,!0);let a=Promise.resolve();for(;n.length;)!function(t){a=a.then(()=>Promise.all(t.map(t=>t())))}(n.shift());const p=()=>r.getViolations();return a.then(p,p)};r.Required=o(7),r.Optional=o(8),r.Collection=o(15),r.All=o(5),r.Blank=o(9),r.Callback=o(17),r.Count=o(18),r.Email=o(19),r.IsFalse=o(20),r.IsNull=o(21),r.IsTrue=o(22),r.Length=o(23),r.NotBlank=o(24),r.NotNull=o(25),r.Regex=o(26),r.Type=o(27),t.exports=r},function(t,e,o){"use strict";const s=o(12),i=o(13),r=function(t,e={}){this.violations=[],this.rootData=t,this.extra=e,this.stack={}};r.prototype.buildViolation=function(){let t=Array.prototype.slice.call(arguments);if(0===t.length)throw"new Context(message).buildViolation(message): message not specified";if("string"!=typeof t[0])throw"new Context(message).buildViolation(message): message arg must be string";return new s(t[0],this)},r.prototype.addViolation=function(t,e,o,s,i){const r=[t,e,o,s];void 0!==i&&r.push(i),this.violations.push(r)},r.prototype.addTrigger=function(t=0,e){return this.stack[t]?this.stack[t].push(e):this.stack[t]=[e],this},r.prototype.getTriggers=function(){const t=Object.keys(this.stack).sort().reduce((t,e)=>(this.stack[e].length&&t.push(this.stack[e]),t),[]);return this.stack={},t},r.prototype.getViolations=function(){return new i(this.violations)},r.prototype.getRoot=function(){return this.rootData},r.prototype.getExtra=function(){return this.extra},t.exports=r},function(t,e,o){"use strict";const s=function(t,e){this.parameters={},this.code=void 0,this.path=void 0,this.plural=!1,this.invalidValue=void 0,this.extra=void 0,this.message=t,this.context=e};s.prototype.setParameter=function(t,e){return this.parameters[t]=e,this},s.prototype.setCode=function(t){return this.code=t,this},s.prototype.atPath=function(t){return this.path=t,this},s.prototype.setPlural=function(t){if(!Number.isInteger(t)||t<0)throw"ViolationBuilder.setPlural(plural) - plural parameter should be integer in range 0-inifinty";return this.plural=t,this},s.prototype.setInvalidValue=function(t){return this.invalidValue=t,this},s.prototype.setExtra=function(t){return this.extra=t,this},s.prototype.addViolation=function(){if(void 0===this.code)throw"ViolationBuilder: this.code === undefined, call ViolationBuilder->setCode(code)";let t=this.message;if("string"==typeof t&&t.indexOf("|")>-1&&!1!==this.plural&&this.plural>-1){const e=t.split("|");e.length>this.plural&&(t=e[this.plural])}return Object.keys(this.parameters).map(e=>{let o;do{o=t,t=t.replace(e,this.parameters[e])}while(o!==t)}),this.context.addViolation(this.path,t,this.code,this.invalidValue,this.extra),this},t.exports=s},function(t,e,o){"use strict";const s=o(14),i=o(1);function r(t,e,o){return o.indexOf(t)===e}function n(t){this.violations=t||[]}n.prototype.getRaw=function(){return this.violations.map(t=>(t.length>4&&t.pop(),t))},n.prototype.getFlat=function(t=!1){let e;const o=this.violations.reduce((t,o)=>(t[e=o[0]||""]||(t[e]=[]),t[e].push(o),t),{});return Object.keys(o).reduce((e,s)=>(e[s]=o[s],e[s].sort(function(t,e,o=0,s=0){return"number"==typeof t[4]?o=t[4]:t[4]&&void 0!==t[4].order&&(o=t[4].order),"number"==typeof e[4]?s=e[4]:e[4]&&void 0!==e[4].order&&(s=e[4].order),s-o}),e[s]=e[s].map(t=>t[1]),t||(e[s]=e[s].shift()),e),{})},n.prototype.getTree=function(t=!1){const e=this.getFlat(t);return Object.keys(e).reduce((t,o)=>t=s(t,o,e[o]),{})},n.prototype.findByCodes=function(t){i(t)||(t=[t]),t=t.filter(r);let e=[];for(let o=0,s=t.length;o<s;o+=1)e=e.concat(this.violations.filter(e=>e[2]===t[o])||[]);return e},n.prototype.count=function(){return this.violations.length},t.exports=n},function(t,e,o){"use strict";const s=o(1),i=o(2);t.exports=function(t,e,o){if("string"==typeof e&&(e=e.split(".")),"number"==typeof e&&(e+=""),i(e)&&(e=Object.values(e).map(t=>t+="")),"string"==typeof e||e||"0"===e||""===e||(e=[]),s(e)||(e=[e]),e.length){let r,n=!0,a=s(t);a||i(t)||(t={});let p,l,c=t,u=t;for(;e.length;){if(r=e.shift(),n&&(n=!1,a&&!/^\d+$/.test(r)&&""!==r))throw"if source is array and key is not integer nor empty string then its not possible to add to array, given key: "+JSON.stringify(r);if(c=u,!e.length)return s(c)&&""===r?c.push(o):c[r]=o,t;p=i(c[r]),l=s(c[r]),p||l||(""===e[0]?l||(c[r]=[]):p||(c[r]={})),u=c[r]}}return o}},function(t,e,o){"use strict";const s=o(16),i=o(2),r=o(0),n=o(3),a=o(7),p=o(8),l=o(4),c=o(1),u=o(6),h={fields:{},allowExtraFields:!1,allowMissingFields:!1,extraFieldsMessage:"This field was not expected.",missingFieldsMessage:"This field is missing."},f=function(t,e){if(r.apply(this,arguments),this.setExtra(e),!i(t)||t instanceof r)throw"Collection accept only plain object as a first argument";if(t=i(t)&&0===s(Object.keys(t),Object.keys(h)).length?Object.assign({},h,{fields:t}):Object.assign({},h,t),0===Object.keys(t.fields).length)throw'Describe at least one field in "fields" parameter';t.fields=Object.keys(t.fields).reduce((e,o)=>(t.fields[o]instanceof n?e[o]=t.fields[o]:e[o]=new a(t.fields[o]),e),{}),this.setOptions(t)};(f.prototype=Object.create(r.prototype)).constructor=f,f.prototype.MISSING_FIELD_ERROR="MISSING_FIELD_ERROR",f.prototype.NO_SUCH_FIELD_ERROR="NO_SUCH_FIELD_ERROR",f.prototype.validate=function(t,e,o,s){const r=this.getOptions();return(i(t)||c(t))&&(Object.keys(r.fields).forEach(s=>{void 0===t[s]&&(r.fields[s]instanceof p||r.allowMissingFields||e.buildViolation(r.missingFieldsMessage).atPath(void 0===o?s:o+"."+s).setParameter("{{ field }}",s).setCode(f.prototype.MISSING_FIELD_ERROR).setInvalidValue(t).addViolation())}),r.allowExtraFields||u(t,(s,i)=>{void 0===r.fields[i]&&e.buildViolation(r.extraFieldsMessage).atPath(void 0===o?i:o+"."+i).setParameter("{{ field }}",i).setCode(f.prototype.NO_SUCH_FIELD_ERROR).setInvalidValue(t).addViolation()})),Promise.resolve("resolve Collection2")},f.prototype.validateChildren=function(t,e,o,s){const i=this.getOptions();let r;u(t,(s,n)=>{(r=i.fields[n])&&l(t[n],r.getOptions(),e,o?o+"."+n:n)})},t.exports=f},function(t,e,o){"use strict";const s=o(1);t.exports=((t,e)=>s(t)&&s(e)?t.reduce((t,o)=>(e.indexOf(o)>-1&&t.push(o),t),[]):[])},function(t,e,o){"use strict";const s=o(0),i=function(t,e){if(s.apply(this,arguments),this.setExtra(e),"function"!=typeof t)throw"Callback constraint first arg should be function";this.setOptions(t)};(i.prototype=Object.create(s.prototype)).constructor=i,i.prototype.validate=function(t,e,o,s){const i=this.getOptions();return new Promise((r,n)=>{let a=i(t,e,o,s);a&&"function"==typeof a.then||(a=Promise.resolve()),a.then(r,n)})},t.exports=i},function(t,e,o){"use strict";const s=o(1),i=o(2),r=o(0),n={minMessage:"This collection should contain {{ limit }} element or more.|This collection should contain {{ limit }} elements or more.",maxMessage:"This collection should contain {{ limit }} element or less.|This collection should contain {{ limit }} elements or less.",exactMessage:"This collection should contain exactly {{ limit }} element.|This collection should contain exactly {{ limit }} elements."};function a(){let t=Array.prototype.slice.call(arguments);if(r.apply(this,t),0===t.length)throw"Count: options must be given for this constraint";let e=t[0];if(this.setExtra(t[1]),Number.isInteger(e)&&(e={min:e,max:e}),!i(e))throw"Count: Wrong parameter type have been given to this constraint, typeof: "+typeof e;if(void 0===(e=Object.assign({},n,e)).min&&void 0===e.max)throw'Count: Either option "min" or "max" must be given for constraint';if(void 0!==e.min&&!Number.isInteger(e.min))throw"Count: min should be integer";if(void 0!==e.max&&!Number.isInteger(e.max))throw"Count: max should be integer";if(e.min<0)throw"Count: min should be greater than 0";if(e.max<0)throw"Count: max should be greater than 0";this.setOptions(e)}a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.prototype.TOO_FEW_ERROR="TOO_FEW_ERROR",a.prototype.TOO_MANY_ERROR="TOO_MANY_ERROR",a.prototype.validate=function(t,e,o,r){const n=this.getOptions();let p=!1;if(s(t)&&(p=t.length),!1===p&&i(t)&&(p=Object.keys(t).length),!1!==p){if(void 0!==n.max&&p>n.max)return e.buildViolation(n.min===n.max?n.exactMessage:n.maxMessage).atPath(o).setParameter("{{ count }}",p).setParameter("{{ limit }}",n.max).setInvalidValue(t).setPlural(1===n.max?0:1).setCode(a.prototype.TOO_MANY_ERROR).addViolation(),r&&r.stop?Promise.reject("stop Count"):Promise.resolve("resolve Count");if(void 0!==n.min&&p<n.min)return e.buildViolation(n.min===n.max?n.exactMessage:n.minMessage).atPath(o).setParameter("{{ count }}",p).setParameter("{{ limit }}",n.min).setInvalidValue(t).setPlural(1===n.min?0:1).setCode(a.prototype.TOO_FEW_ERROR).addViolation(),r&&r.stop?Promise.reject("stop Count"):Promise.resolve("resolve Count")}return Promise.resolve("Count")},t.exports=a},function(t,e,o){"use strict";const s=o(0),i={message:"This value is not a valid email address."},r=function(t,e){s.apply(this,arguments),this.setExtra(e),"string"==typeof t&&(t={message:t}),this.setOptions(Object.assign({},i,t))};(r.prototype=Object.create(s.prototype)).constructor=r,r.prototype.INVALID_EMAIL_ERROR="INVALID_EMAIL_ERROR",r.prototype.validate=function(t,e,o,s){const i=this.getOptions();return!r.prototype.logic(t)&&(e.buildViolation(i.message).atPath(o).setCode(r.prototype.INVALID_EMAIL_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop Email"):Promise.resolve("resolve Email")},r.prototype.logic=function(t){return"string"==typeof t&&/^.+\@\S+\.\S+$/.test(t)},t.exports=r},function(t,e,o){"use strict";const s=o(0),i={message:"This value should be false."},r=function(t,e){s.apply(this,arguments),this.setExtra(e),"string"==typeof t&&(t={message:t}),this.setOptions(Object.assign({},i,t))};(r.prototype=Object.create(s.prototype)).constructor=r,r.prototype.NOT_FALSE_ERROR="NOT_FALSE_ERROR",r.prototype.validate=function(t,e,o,s){const i=this.getOptions();return!1!==t&&(e.buildViolation(i.message).atPath(o).setCode(r.prototype.NOT_FALSE_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop IsFalse"):Promise.resolve("resolve IsFalse")},t.exports=r},function(t,e,o){"use strict";const s=o(0),i={message:"This value should be null."},r=function(t,e){s.apply(this,arguments),this.setExtra(e),"string"==typeof t&&(t={message:t}),this.setOptions(Object.assign({},i,t))};(r.prototype=Object.create(s.prototype)).constructor=r,r.prototype.NOT_NULL_ERROR="NOT_NULL_ERROR",r.prototype.validate=function(t,e,o,s){const i=this.getOptions();return null!==t&&(e.buildViolation(i.message).atPath(o).setCode(r.prototype.NOT_NULL_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop IsNull"):Promise.resolve("resolve IsNull")},t.exports=r},function(t,e,o){"use strict";const s=o(0),i={message:"This value should be true."},r=function(t,e){s.apply(this,arguments),this.setExtra(e),"string"==typeof t&&(t={message:t}),this.setOptions(Object.assign({},i,t))};(r.prototype=Object.create(s.prototype)).constructor=r,r.prototype.NOT_TRUE_ERROR="NOT_TRUE_ERROR",r.prototype.validate=function(t,e,o,s){const i=this.getOptions();return!0!==t&&(e.buildViolation(i.message).atPath(o).setCode(r.prototype.NOT_TRUE_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop IsTrue"):Promise.resolve("resolve IsTrue")},t.exports=r},function(t,e,o){"use strict";const s=o(2),i=o(0),r={maxMessage:"This value is too long. It should have {{ limit }} character or less.|This value is too long. It should have {{ limit }} characters or less.",minMessage:"This value is too short. It should have {{ limit }} character or more.|This value is too short. It should have {{ limit }} characters or more.",exactMessage:"This value should have exactly {{ limit }} character.|This value should have exactly {{ limit }} characters."};function n(){let t=Array.prototype.slice.call(arguments);if(i.apply(this,t),0===t.length)throw"Length: options must be given for this constraint";let e=t[0];if(this.setExtra(t[1]),Number.isInteger(e)&&(e={min:e,max:e}),!s(e))throw"Length: Wrong parameter type have been given to this constraint, typeof: "+typeof e;if(void 0===(e=Object.assign({},r,e)).min&&void 0===e.max)throw'Length: Either option "min" or "max" must be given for constraint';this.setOptions(e)}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.prototype.TOO_SHORT_ERROR="TOO_SHORT_ERROR",n.prototype.TOO_LONG_ERROR="TOO_LONG_ERROR",n.prototype.validate=function(t,e,o,s){const i=this.getOptions();if(null!==t&&""!==t){const r=(t||"").length;if(void 0!==i.max&&r>i.max)return e.buildViolation(i.min===i.max?i.exactMessage:i.maxMessage).atPath(o).setPlural(1===i.max?0:1).setParameter("{{ value }}",t).setParameter("{{ limit }}",i.max).setInvalidValue(t).setCode(n.prototype.TOO_LONG_ERROR).setExtra(s).addViolation(),s&&s.stop?Promise.reject("stop Length"):Promise.resolve("resolve Length");if(void 0!==i.min&&r<i.min)return e.buildViolation(i.min===i.max?i.exactMessage:i.minMessage).atPath(o).setPlural(1===i.min?0:1).setParameter("{{ value }}",t).setParameter("{{ limit }}",i.min).setInvalidValue(t).setCode(n.prototype.TOO_SHORT_ERROR).setExtra(s).addViolation(),s&&s.stop?Promise.reject("stop Length"):Promise.resolve("resolve Length")}return Promise.resolve("Length")},t.exports=n},function(t,e,o){"use strict";const s=o(0),i=o(9),r={message:"This value should not be blank."},n=function(t,e){s.apply(this,arguments),this.setExtra(e),"string"==typeof t&&(t={message:t}),this.setOptions(Object.assign({},r,t))};(n.prototype=Object.create(s.prototype)).constructor=n,n.prototype.IS_BLANK_ERROR="IS_BLANK_ERROR",n.prototype.validate=function(t,e,o,s){const r=this.getOptions();return i.prototype.logic(t)&&(e.buildViolation(r.message).atPath(o).setCode(n.prototype.IS_BLANK_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop NotBlank"):Promise.resolve("resolve NotBlank")},t.exports=n},function(t,e,o){"use strict";const s=o(0),i={message:"his value should be true."},r=function(t,e){s.apply(this,arguments),this.setExtra(e),"string"==typeof t&&(t={message:t}),this.setOptions(Object.assign({},i,t))};(r.prototype=Object.create(s.prototype)).constructor=r,r.prototype.IS_NULL_ERROR="IS_NULL_ERROR",r.prototype.validate=function(t,e,o,s){const i=this.getOptions();return!0!==t&&(e.buildViolation(i.message).atPath(o).setCode(r.prototype.IS_NULL_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop NotNull"):Promise.resolve("resolve NotNull")},t.exports=r},function(t,e,o){"use strict";const s=o(0),i=o(2),r={message:"This value is not valid.",match:!0},n=function(t,e){if(s.apply(this,arguments),this.setExtra(e),n.prototype.isRegex(t)&&(t={pattern:t}),!i(t))throw"Regex: first argument must be regex or object";if(!n.prototype.isRegex(t.pattern))throw"Regex: 'pattern' is not specified";this.setOptions(Object.assign({},r,t))};n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.REGEX_FAILED_ERROR="REGEX_FAILED_ERROR",n.prototype.validate=function(t,e,o,s){const i=this.getOptions();return!n.prototype.logic(t,i.pattern,i.match)&&(e.buildViolation(i.message).atPath(o).setCode(n.prototype.REGEX_FAILED_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop Regex"):Promise.resolve("resolve Regex")},n.prototype.isRegex=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.prototype.logic=function(t,e,o){if("string"==typeof t){const s=e.test(t);return o?s:!s}return!1},t.exports=n},function(t,e,o){"use strict";const s=o(2),i=o(1),r=o(0),n={message:"This value should be of type '{{ type }}'."},a=function(t,e){r.apply(this,arguments),this.setExtra(e),i(t)&&(t={type:t}),"string"==typeof t&&(t={type:t}),t=Object.assign({},n,t),i(t.type)||(t.type=[t.type]);for(let e=0,o=t.type.length;e<o;e+=1){if("string"!=typeof t.type[e])throw"Type constraint: Each of types have to be string one of: "+a.prototype.allowedTypes.map(t=>`"${t}"`).join(", ");if(t.type[e]=t.type[e].toLowerCase(),-1===a.prototype.allowedTypes.indexOf(t.type[e]))throw"Type constraint: One of types is string but is not one of: "+a.prototype.allowedTypes.map(t=>`"${t}"`).join(", ")}this.setOptions(t)};a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.prototype.INVALID_TYPE_ERROR="INVALID_TYPE_ERROR",a.prototype.validate=function(t,e,o,s){const i=this.getOptions();return!a.prototype.logic(t,i.type)&&(e.buildViolation(i.message).atPath(o).setParameter("{{ type }}",i.type.join(", ")).setCode(a.prototype.INVALID_TYPE_ERROR).setInvalidValue(t).addViolation(),s&&s.stop)?Promise.reject("stop Type"):Promise.resolve("resolve Type")},a.prototype.logic=function(t,e){let o=!1,r=i(t),n=s(t);for(let s=0,i=e.length;s<i;s+=1){if("array"===e[s]&&r&&!n){o=!0;break}if("object"===e[s]&&!r&&n){o=!0;break}if("integer"===e[s]&&Number.isInteger(t)){o=!0;break}if(!n&&!r&&typeof t===e[s]){o=!0;break}}return o},a.prototype.allowedTypes="undefined object boolean number string symbol function integer array".split(" "),t.exports=a}])});